<!DOCTYPE html>
<html>

<head>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }

        canvas {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>

</head>

<body>
    <canvas id="canvas"></canvas>
    <script>
        window.onload = function () {
            var canvas = document.getElementById("canvas");
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            var cxt = canvas.getContext("2d");


            var gradient = cxt.createRadialGradient(100, 100, 80, 200, 200, 500)
            //径向渐变
            gradient.addColorStop(0, 'rgb(255,255,134)')
            gradient.addColorStop(0.01, 'rgb(70,70,80)')
            gradient.addColorStop(0.2, 'rgb(40,40,50)')
            gradient.addColorStop(0.4, 'rgb(20,20,30)')
            gradient.addColorStop(1, 'rgb(0,0,10)')
            cxt.save()
            cxt.fillStyle = gradient
            cxt.fillRect(0, 0, window.innerWidth, window.innerHeight);
            cxt.restore()
            var count=0
            //绘制星星
            var a = []
            for (var i = 0; i < 200; i++) {
                var r = Math.random() * 2;
                var x = Math.random() * window.innerWidth
                var y = Math.random() *window.innerHeight
                if(x<=700){
                   if(y<=200){
                       y=y+200
                   }
                }    
                
               
                    fillStar(r, r * 2, x, y, cxt);
                a.push([r, r * 2, x, y, cxt]);
                
               
            }
            // cxt.font = "90px Georgia";
            // cxt.fillStyle = "yellow";
            // cxt.fillText("祝爷爷中秋快乐", window.innerWidth / 2 - 150, window.innerHeight / 2);
            animate()
            function animate() {
                if(count%20==0){
                    var length = a.length;
                for (let i = 0; i < length; i++) {
                    var rr = Math.random()
                    var r = a[i][0]
                    var R = a[i][1]
                    var x = a[i][2]
                    var y = a[i][3]
                    var cxt = a[i][4]
                    if (rr > 0.5) {
                        fillStar(r, R * rr, x, y, cxt)
                    } else {
                        fillStar(r, R * 2, x, y, cxt)
                    }
                }
                }
                count++
                requestAnimationFrame(animate)

            }
        }

        function fillStar(r, R, x, y, cxt) {
            cxt.fillStyle = "white";
            cxt.beginPath();
            for (i = 0; i < 5; i++) {
                cxt.lineTo(Math.cos((15 + i * 72) / 180 * Math.PI) * R + x, -Math.sin((15 + i * 72) / 180 * Math.PI) * R + y);
                cxt.lineTo(Math.cos((55 + i * 72) / 180 * Math.PI) * r + x, -Math.sin((55 + i * 72) / 180 * Math.PI) * r + y);
            }

            cxt.closePath();
            cxt.fill();
            cxt.stroke();
        }
    </script>
</body>   

</html>